<section class="article-full">
  <div id="doc-box">
    <h1><%= article.title %></h1>

    <% if user_signed_in? and not article.new_record? %>
      <ul class="user-controls">
        <li>
          <%= custom_css_btn 'edit article', 'fa fa-pencil-square-o', edit_article_path(article) %>
        </li>
      </ul>
    <% end %>

    <ul style="list-style: none; padding-left: 0">
      <li>Created on <%= article.created_at.strftime('%d %B %y') %> by <%= link_to author.display_name, user_path(author) %></li>
      <li>Last updated <%= time_ago_in_words(article.updated_at) %> ago</li>
      <li><%= link_to_tags(article.tag_list) %></li>
      <li>Vote value:&nbsp;<%= article.upvotes.size - article.downvotes.size %>

      <% if user_signed_in? and not article.new_record? %>
        <% visitor_has_voted = @current_user.voted_as_when_voted_for article %>
        <% if visitor_has_voted == nil %>
          <%= link_to 'Up Vote', vote_article_path(article, 'up', @current_user)%>
        | <%= link_to 'Down Vote', vote_article_path(article, 'down', @current_user) %>
        <% elsif visitor_has_voted == true %>
          <%= link_to 'Cancel Up Vote', vote_article_path(article, 'cancelup', @current_user)%>
        | <%= link_to 'Down Vote', vote_article_path(article, 'down', @current_user) %>
        <% else %>
          <%= link_to 'Up Vote', vote_article_path(article, 'up', @current_user)%>
        | <%= link_to 'Cancel Down Vote', vote_article_path(article, 'canceldown', @current_user) %>
        <% end %>
      <% end %>
      </li>
    </ul>
    <% if user_signed_in? and not article.new_record? %>
      <%= custom_css_btn 'edit article', 'fa fa-pencil-square-o', edit_article_path(article), style: 'font-size: 130%;' %>
    <% end %>
  </div>

  <article><%= from_markdown article.content %></article>

  <!--<footer class="article-footer">Footer PLACEHOLDER</footer>-->
</section>
